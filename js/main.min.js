!function(){"use strict";var e={342:function(e,t,n){var o=n(582),r=n(786),c=n(133),s=n(450),i=n(620),a=n(809),l=n(875),d=n(827),u=n(376),p=n(372);window.addEventListener("DOMContentLoaded",(()=>{(0,o.$)(),(0,r.b)(),(0,l.Y)(),(0,c.Z)(),(0,s.o)(),document.querySelectorAll(".price").forEach(i.G),document.querySelectorAll(".card").forEach(a.n),(0,d.y)(),(0,u.V)(),(0,p.i)()}))},231:function(e,t,n){n.d(t,{j:function(){return a}});var o=n(613);const r=document.querySelector("#success-message").content.querySelector(".success-message").cloneNode(!0),c=document.querySelector(".overlay"),s=()=>{l()},i=e=>{e.keyCode===o.zi&&l()};function a(){document.body.append(r),c.classList.add("overlay--active"),o.cr.reset(),scrollTo({top:0,behavior:"smooth"}),o.d1.style.overflow="hidden",document.addEventListener("keydown",i),document.addEventListener("click",s)}function l(){r.remove(),c.classList.remove("overlay--active"),o.d1.style.overflow="scroll",document.removeEventListener("keydown",i),document.removeEventListener("click",s)}},875:function(e,t,n){n.d(t,{Y:function(){return o}});const o=()=>{const e=document.querySelector("#comment-area"),t=document.querySelector("#counter");e.addEventListener("input",(function(e){const n=e.target.value.length;t.textContent=n}))}},613:function(e,t,n){n.d(t,{cr:function(){return r},d1:function(){return c},zF:function(){return s},zi:function(){return o}});const o=27,r=document.querySelector("#order-form"),c=document.querySelector("body"),s={lat:60.033185,lng:30.428598}},376:function(e,t,n){n.d(t,{V:function(){return o}});const o=()=>{$(".address").suggestions({token:"d61dce75456f3e55cbfe29a13f919ce584208694",type:"ADDRESS"})}},827:function(e,t,n){n.d(t,{y:function(){return r}});var o=n(613);const r=()=>{ymaps.ready((function(){var e,t=new ymaps.Map("map",{center:[o.zF.lat,o.zF.lng],zoom:12,controls:["zoomControl"],behaviors:["drag"]},{searchControlProvider:"yandex#search"}),n=new ymaps.Placemark([o.zF.lat,o.zF.lng],{hintContent:"г. Санкт-Петербург, пр. Просвещения, д. 99, кв. 152"},{iconLayout:"default#image",iconImageHref:"img/icon-pin.svg",iconImageSize:[27,39]});function r(t){e.properties.set("iconCaption","поиск..."),ymaps.geocode(t).then((function(t){var n=t.geoObjects.get(0);e.properties.set({iconCaption:[n.getLocalities().length?n.getLocalities():n.getAdministrativeAreas(),n.getThoroughfare()||n.getPremise()].filter(Boolean).join(", "),balloonContent:n.getAddressLine()})}))}t.events.add("click",(function(n){var o=n.get("coords");e?e.geometry.setCoordinates(o):(e=function(e){return new ymaps.Placemark(e,{iconCaption:"поиск..."},{preset:"islands#violetDotIconWithCaption",draggable:!0})}(o),t.geoObjects.add(e),e.events.add("dragend",(function(){r(e.geometry.getCoordinates())}))),r(o)})),$("#button-address").bind("click",(function(e){var o;o=$("#suggest").val(),ymaps.geocode(o).then((function(e){var o,r,c=e.geoObjects.get(0);if(c)switch(c.properties.get("metaDataProperty.GeocoderMetaData.precision")){case"exact":break;case"number":case"near":case"range":o="Неточный адрес. Уточните, пожалуйста, номер дома";break;case"street":o="Неполный адрес. Уточните, пожалуйста, номер дома";break;default:o="Неточный адрес. Уточните, пожалуйста, полный адрес"}else o="Адрес не найден. Уточните, пожалуйста, адрес";o?(r=o,$("#error").text(r),$("#suggest").addClass("input--invalid"),$("#error").css("display","block")):function(e){$("#suggest").removeClass("input--invalid"),$("#error").css("display","none");var o,r,c=$("#map"),s=e.properties.get("boundedBy"),i=ymaps.util.bounds.getCenterAndZoom(s,[c.width(),c.height()]),a=[e.getThoroughfare(),e.getPremiseNumber(),e.getPremise()].join(" ");i.controls=[],o=i,r=a,t.setCenter(o.center,o.zoom),n.geometry.setCoordinates(o.center),n.properties.set({iconCaption:r,balloonContent:r})}(c)}),(function(e){console.log(e)}))})),t.geoObjects.add(n)}))}},582:function(e,t,n){n.d(t,{$:function(){return o}});const o=()=>{$("#phone").mask("+7 (999) 999-99-99")}},133:function(e,t,n){n.d(t,{Z:function(){return r}});var o=n(613);const r=()=>{const e=document.querySelector(".header__button"),t=document.querySelector(".header");e&&e.addEventListener("click",(()=>{document.documentElement.clientWidth<768&&(t.classList.toggle("is-open"),o.d1.style.overflow="hidden",t.classList.contains("is-open")?t.querySelectorAll("a").forEach((e=>{e.addEventListener("click",(()=>{t.classList.remove("is-open"),o.d1.style.overflow="scroll"}))})):o.d1.style.overflow="scroll"),window.addEventListener("resize",(()=>{document.documentElement.clientWidth>767&&t.classList.remove("is-open")}))}))}},450:function(e,t,n){n.d(t,{o:function(){return o}});const o=()=>{const e=document.querySelector(".toggle");e&&e.addEventListener("click",(()=>{e.classList.toggle("toggle--active")}))}},620:function(e,t,n){n.d(t,{G:function(){return o}});const o=e=>{const t=e.querySelector("[data-reduce]"),n=e.querySelector("[data-add]"),o=e.querySelector(".quantity__value"),r=e.querySelectorAll("[data-format-number]"),c=e.querySelector(".price-start-old"),s=e.querySelector(".price-start-now"),i=e.querySelector(".price-total-old"),a=e.querySelector(".price-total-now");r.forEach((e=>{const t=parseFloat(e.textContent).toLocaleString("ru-RU");e.textContent=t}));let l=parseFloat(o.value,10);n.addEventListener("click",(()=>{if(l++,o.value=l,c){const e=(parseInt(c.textContent.replace(/\s+/g,""),10)*l).toLocaleString("ru-RU");i.textContent=e}const e=(parseInt(s.textContent.replace(/\s+/g,""),10)*l).toLocaleString("ru-RU");a.textContent=e})),t.addEventListener("click",(()=>{if(!(l>1))return 1;{if(l--,o.value=l,i){const e=(parseInt(i.textContent.replace(/\s+/g,""),10)-parseInt(c.textContent.replace(/\s+/g,""),10)).toLocaleString("ru-RU");i.textContent=e}const e=parseInt(s.textContent.replace(/\s+/g,""),10),t=(parseInt(a.textContent.replace(/\s+/g,""),10)-e).toLocaleString("ru-RU");a.textContent=t}}))}},809:function(e,t,n){n.d(t,{n:function(){return o}});const o=e=>{const t=e.querySelector("[data-button-delete]");t&&t.addEventListener("click",(()=>{e.remove()}))}},372:function(e,t,n){n.d(t,{i:function(){return c}});var o=n(231),r=n(613);const c=()=>{const e=r.cr.querySelector("#button-submit");e.disabled=!0,e.classList.add("button--disabled"),r.cr&&(r.cr.addEventListener("input",(function(t){t.target.form.checkValidity()?(e.disabled=!1,e.classList.remove("button--disabled")):(e.disabled=!0,e.classList.add("button--disabled"))})),r.cr.addEventListener("submit",(function(e){e.preventDefault(),function(e){const{elements:t}=e,n=new FormData;Array.from(t).filter((e=>!!e.name)).forEach((e=>{const{name:t,type:o}=e,r="radio"===o?e.checked+` ${e.value}`:e.value;n.append(t,r)})),console.log(Array.from(n.entries()))}(r.cr),(0,o.j)()})))}},786:function(e,t,n){n.d(t,{b:function(){return r}});var o=n(613);const r=()=>{const e=o.cr.querySelectorAll("[required]"),t=o.cr.querySelector("#name"),n=o.cr.querySelector("#surname"),r=o.cr.querySelector("#email"),c=o.cr.querySelector("#phone"),s=o.cr.querySelector("#suggest"),i=o.cr.querySelector("#promo"),a=o.cr.querySelector("#promo-apply"),l=o.cr.querySelector("#button-address");e.forEach((e=>{e.onblur=function(){if(e.validity.valueMissing||e.validity.patternMismatch){e.classList.add("input--invalid");const o=this.parentNode.querySelector(".error");e===t?o.innerHTML="Пожалуйста, введите Ваше имя.":e===n?o.innerHTML="Пожалуйста, введите Вашу фамилию.":e===r?o.innerHTML="Пожалуйста, введите адрес Вашей электронной почты по форме: login@post.__":e===c?o.innerHTML="Пожалуйста, введите Ваш номер телефона.":e===s&&(o.innerHTML="Пожалуйста, введите Ваш адрес.")}},e.onfocus=function(){if(this.classList.contains("input--invalid")){const e=this.parentNode.querySelector(".error");this.classList.remove("input--invalid"),e.innerHTML=""}}})),i.addEventListener("input",(()=>{""==i.value?(a.style.display="none",i.classList.remove("input--promo")):(a.style.display="block",i.classList.add("input--promo")),i.classList.remove("input--invalid");const e=i.parentNode.querySelector(".error");e.innerHTML="",e.classList.remove("error--ok")})),s.addEventListener("focus",(()=>{o.cr.querySelector('label[for="suggest"]').style.display="block"})),s.addEventListener("blur",(()=>{o.cr.querySelector('label[for="suggest"]').style.display="none"})),s.addEventListener("input",(()=>{""==s.value?l.style.display="none":l.style.display="block"})),a&&a.addEventListener("click",(()=>{const e=new RegExp("[0-9]{1}[a-zA-Z]{1}[0-9]{1}[a-zA-Z]{1}[0-9]{1}[a-zA-Z]{2}"),t=i.value,n=i.parentNode.querySelector(".error");e.test(t)?(n.innerHTML=`${t} - купон применен.`,n.classList.add("error--ok")):(n.innerHTML=`${t} - купон не найден`,i.classList.add("input--invalid"))}))}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,n),c.exports}n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(342),n(231),n(875),n(613),n(376),n(827),n(582),n(133),n(450),n(620),n(809),n(372),n(786)}();